{% extends "KsUserBundle::layout.html.twig" %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="{{ asset('bundles/ksevent/css/timepicker.0.9.9.css') }}" type="text/css" />
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('bundles/ksevent/js/timepicker.0.9.9.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/ksevent/js/script-timepicker.js') }}"></script>
{% endblock %}

    
    

{% block title %}
	{{ parent() }}
{% endblock %}
    
{% block content %}
    
<h1>{{ 'event.edit_event'|trans }} </h1>

<form action="{{ path('event_delete', { 'id': entity.id , 'idClub': idClub}) }}" method="post">
    {{ form_widget(delete_form) }}
    <a class="btn" href="{{ path('ksClub_events', { 'clubId' : idClub }) }}">
        <i class="icon-backward"></i> 
        Retour
    </a>
    <button class="btn btn-danger" type="submit">
        <i class="icon-remove icon-white"></i> 
        Supprimer
    </button>
</form>

<form id="eventForm" action="{{ path('event_update', { 'id': entity.id }) }}" method="post" {{ form_enctype(edit_form) }}>
     <div>
        <!-- Génération du label. -->
        {{ form_label(edit_form.name, 'users.club_event_name' ) }}

        <!-- Affichage des erreurs pour ce champ précis. -->
        {{ form_errors(edit_form.name ) }}

        <!-- Génération de l'input. -->
        {{ form_widget(edit_form.name ) }}
    </div> 
        
    <div>
        <!-- Génération du label. -->
        {{ form_label(edit_form.content, 'users.club_event_content' ) }}

        <!-- Affichage des erreurs pour ce champ précis. -->
        {{ form_errors(edit_form.content ) }}

        <!-- Génération de l'input. -->
        {{ form_widget(edit_form.content ) }}
    </div> 
    
    <div>
        <!-- Génération du label. -->
        {{ form_label(edit_form.typeEvent, 'users.club_event_type' ) }}

        <!-- Affichage des erreurs pour ce champ précis. -->
        {{ form_errors(edit_form.typeEvent ) }}

        <!-- Génération de l'input. -->
        {{ form_widget(edit_form.typeEvent ) }}
    </div>  
        
    <div>
           <!-- Génération du label. -->
        {{ form_label(edit_form.startDate, 'users.club_event_start' ) }}

        <!-- Affichage des erreurs pour ce champ précis. -->
        {{ form_errors(edit_form.startDate ) }}

        <!-- Génération de l'input. -->
        {{ form_widget(edit_form.startDate ) }}
        
    </div> 
    <div>
        <!-- Génération du label. -->
        {{ form_label(edit_form.endDate, 'users.club_event_end' ) }}

        <!-- Affichage des erreurs pour ce champ précis. -->
        {{ form_errors(edit_form.endDate ) }}

        <!-- Génération de l'input. -->
        {{ form_widget(edit_form.endDate ) }}
    </div> 
        
    <input type="hidden" value="{{ idClub }}" name="idClub">    

    {{ form_widget(edit_form._token) }}
    <button class="btn btn-primary" type="submit">
        <i class="glyphicon glyphicon-pencil icon-white"></i> 
        Editer
    </button>
</form>

    <script type="text/javascript">
        var $form = $("#eventForm");
    
        $form.find('.datetime').datetimepicker({
            dateFormat:"dd/mm/yy",
            timeFormat: 'hh:mm',
            addSliderAccess: true,
            sliderAccessArgs: { touchonly: true }
        });
    </script>

{% endblock %}