{% extends "KsUserBundle::layout.html.twig" %}

{% block title %}
	Keepinsport - Tournois
{% endblock %}
        
{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="{{ asset('gracket/jquery.gracket.css') }}" />
    <style>
        div.game {
            margin-top : 10px;
            border:1px solid black;
            border-width: 1px 1px 1px 0;
            
        }
        div.game1:first-child  {
            margin-top : 0px;
        }  
        div.game1 {
            height:60px
        }
        div.game2 {
            margin: 80px 0 110px 0;
			height: 110px;
        }
        
        .brackets > div {
				vertical-align: top;
				clear: both;
			}
			.brackets > div > div {
				float: left;
				height: 100%;
			}
			.brackets > div > div > div {
				margin: 50px 0;
			}
			.brackets div.bracketbox {
				position: relative;
				width: 100%; height: 100%;
				border-top: 1px solid #555;
				border-right: 1px solid #555;
				border-bottom: 1px solid #555;
			}
			.brackets div.bracketbox > span.info {
				position: absolute;
				top: 25%;
				left: 25%;
				font-size: 0.8em;
				color: #BBB;
			}
			.brackets div.bracketbox > span {
				position: absolute;
				left: 5px;
				font-size: 0.85em;
			}
			.brackets div.bracketbox > span.teama {
				top: -20px;
			}
			.brackets div.bracketbox > span.teamb {
				bottom: -20px;
			}
			.brackets div.bracketbox > span.teamc {
				bottom: 1px;
			}
			.brackets > .group2 {
				height: 260px;
			}
			.brackets > .group2 > div {
				width: 49%;
			}
			.brackets > .group3 {
				height: 320px;
			}
			.brackets > .group3 > div {
				width: 32.7%;
			}
			.brackets > .group4 > div {
				width: 24.5%;
			}
			.brackets > .group5 > div {
				width: 19.6%;
			}
			.brackets > .group6 {
				height: 2000px;
			}
			.brackets > .group6 > div {
				width: 16.3%;
			}
			.brackets > div > .r1 > div {
				height: 60px;
			}
			.brackets > div > .r2 > div {
				margin: 80px 0 110px 0;
				height: 110px;
			}
			.brackets > div > .r3 > div {
				margin: 135px 0 220px 0;
				height: 220px;
			}
			.brackets > div > .r4 > div {
				margin: 250px 0 445px 0;
				/*height: 445px;*/
			}
			.brackets > div > .r5 > div {
				margin: 460px 0 0 0;
				height: 900px;
			}
			.brackets > div > .r6 > div {
				margin: 900px 0 0 0;
			}
			.brackets div.final > div.bracketbox {
				border-top: 0px;
				border-right: 0px;
				height: 0px;
			}
			.brackets > div > .r4 > div.drop {
				height: 180px;
				margin-bottom: 0px;
			}
			.brackets > div > .r5 > div.final.drop {
				margin-top: 345px;
				margin-bottom: 0px;
				height: 1px;
			}
			.brackets > div > div > div:last-of-type {
				margin-bottom: 0px;
			}
    </style>
{% endblock %}
    
{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('gracket/jquery.gracket.js') }}"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            var tournament = [
                [
                    {sportman1:"a", sportman2: "b", score:"6/3"},
                    {sportman1:"a", sportman2: "b", score:"6/3"},
                    {sportman1:"a", sportman2: "b", score:"6/3"},
                    {sportman1:"a", sportman2: "b", score:"6/3"},
                ],
                [
                    {sportman1:"sd", sportman2: "b", score:"6/3"},
                    {sportman1:"a", sportman2: "b", score:"6/3"}
                ],
                [
                    {sportman1:"a", sportman2: "b", score:"6/3"},
                ]
             ];
            
            //for(g=1;g<=tournament.length;g++) {
            $tournament	= $('<div class="group'+(tournament.length + 1)+'"></div>')
            $.each( tournament, function(numRound, round) {
                $round = $('<div class="r'+( numRound + 1 )+'"></div>');
                $.each( round, function(numGame, game) {
                    $round.append('<div><div class="bracketbox"><span class="info">'+numGame+'</span><span class="teama">'+game.sportman1+'</span><span class="teamb">'+game.sportman2+'</span><span class="label label-info">' +game.score +'</span></div></div>');
                });
                $tournament.append($round);
            });
            
            //le gagnant
            $tournament.append('<div class="r'+(tournament.length + 1)+'"><div class="final"><div class="bracketbox"><span class="teamc">'+ 'winner' +'</span></div></div></div>');
            $("#test").append($tournament);
        });
    </script>
{% endblock %}
    
{% block content %}
    <h1 class="sportif">Tournoi</h1>
    <div class="blocHeaderSeparator"></div>
        
    <div id="test" class="brackets"></div>
    <br clear="all"/><br/>
    <div>aaa</div>

{% endblock content %}
